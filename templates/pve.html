{% extends "base.html" %}

{% block title %}Player vs AI{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block content %}
<div class="game-container">
    <div class="game-main">
        <div id="game-board">
            <!-- Oyun tahtası JavaScript tarafından oluşturulacak -->
        </div>
    </div>
    <div class="game-sidebar">
        <!-- YENİ: Değerlendirme Çubuğu -->
        <div id="evaluation-bar-container">
            <div class="eval-label">Beyaz</div>
            <div class="eval-bar">
                <div id="eval-bar-white" class="eval-bar-inner white"></div>
                <div id="eval-bar-black" class="eval-bar-inner black"></div>
            </div>
            <div class="eval-label">Siyah</div>
            <div id="eval-score" class="eval-score-text">+0.00</div>
        </div>

        <!-- YENİ: Hamle Geçmişi -->
        <div id="move-history-container">
            <h3>Hamleler</h3>
            <ol id="move-list">
                <!-- Hamleler JavaScript tarafından eklenecek -->
            </ol>
        </div>

        <div class="game-info">
            <p><strong>Mod:</strong> Oyuncu vs. Yapay Zeka</p>
            <p><strong>Oyuncu:</strong> <span id="player-color-display">{{ player_color.capitalize() }}</span></p>
            <p><strong>Zorluk:</strong> <span id="difficulty-display">{{ difficulty }}</span></p>
            <p><strong>Sıra:</strong> <span id="current-turn">Beyaz</span></p>
        </div>
        <div id="game-over-message" class="hidden">
            <h2>Oyun Bitti!</h2>
            <p><strong>Kazanan: <span id="winner"></span></strong></p>
            <a href="{{ url_for('options') }}" class="btn">Yeni Oyun</a>
        </div>
    </div>
</div>

<!-- Oyun verilerini JavaScript'e aktar -->
<script>
    const GAME_ID = "{{ game_id }}";
    const PLAYER_COLOR = "{{ player_color }}";
    const AI_DIFFICULTY = "{{ difficulty }}";
</script>
<script src="{{ url_for('static', filename='js/ui.js') }}"></script>
<script src="{{ url_for('static', filename='js/api.js') }}"></script>
<script src="{{ url_for('static', filename='js/game.js') }}"></script>
{% endblock %}
